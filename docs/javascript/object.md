# å¯¹è±¡

> Objectå¯¹è±¡æ˜¯Javascriptä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç¬”è€…å°†å›´ç»•å¯¹è±¡ä¸­ä¸‰ç§åˆ›å»ºæ–¹å¼åˆ†åˆ«åœ¨æ¯ç§åˆ›å»ºæ–¹å¼ä¸­é€šè¿‡å®ä¾‹ä»‹ç»å¯¹è±¡çš„ä¸€äº›ç‰¹æ€§åŠéœ€æ³¨æ„çš„é—®é¢˜ã€‚

#### å¿«é€Ÿå¯¼èˆª

* [å¯¹è±¡çš„ä¸‰ç§ç±»å‹ä»‹ç»](#å¯¹è±¡çš„ä¸‰ç§ç±»å‹ä»‹ç»)
* [åˆ›å»ºå¯¹è±¡çš„å››ç§æ–¹æ³•](#åˆ›å»ºå¯¹è±¡çš„å››ç§æ–¹æ³•)
    - [å¯¹è±¡å­—é¢é‡åˆ›å»º](#å¯¹è±¡å­—é¢é‡åˆ›å»º)
    - [ä½¿ç”¨newå…³é”®å­—æ„é€ å½¢å¼åˆ›å»º](#ä½¿ç”¨newå…³é”®å­—æ„é€ å½¢å¼åˆ›å»º)
    - [å¯¹è±¡çš„createæ–¹æ³•åˆ›å»º](#å¯¹è±¡çš„createæ–¹æ³•åˆ›å»º)
    - [åŸå‹prototypeåˆ›å»º](#åŸå‹prototypeåˆ›å»º)
* [å¯¹è±¡å±æ€§æè¿°ç¬¦](#å¯¹è±¡å±æ€§æè¿°ç¬¦)
* [å¯¹è±¡çš„å­˜åœ¨æ€§æ£€æµ‹](#å¯¹è±¡çš„å­˜åœ¨æ€§æ£€æµ‹)
* [å¯¹è±¡å¼•ç”¨ä¼ é€’](#å¯¹è±¡å¼•ç”¨ä¼ é€’)
    - [å¼•ç”¨ç±»å‹ç¤ºä¾‹æ¯”è¾ƒ](#å¼•ç”¨ç±»å‹ç¤ºä¾‹åˆ†æ)
    - [å¯¹è±¡copyä¸‰ç§å®ç°æ–¹å¼](#å¯¹è±¡copy)

#### é¢è¯•æŒ‡å—

* ``` ä»€ä¹ˆæ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ{} == {} æ˜¯å¦ç­‰äºtrue  ```ï¼Œå‚è€ƒï¼š[å¯¹è±¡å¼•ç”¨ç±»å‹ç¤ºä¾‹åˆ†æ](#å¼•ç”¨ç±»å‹ç¤ºä¾‹åˆ†æ)
* ``` å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¯¹è±¡çš„æ·±åº¦æ‹·è´å‡½æ•°ï¼Ÿ ```ï¼Œå‚è€ƒï¼š[å¯¹è±¡copyå®ç°](#å¯¹è±¡copyå®ç°)
* ``` newæ“ä½œç¬¦å…·ä½“åšäº†å“ªäº›æ“ä½œï¼Œé‡è¦çŸ¥è¯†ç‚¹ï¼ ```ï¼Œå‚è€ƒï¼š[ä½¿ç”¨newå…³é”®å­—æ„é€ å½¢å¼åˆ›å»º](#ä½¿ç”¨newå…³é”®å­—æ„é€ å½¢å¼åˆ›å»º)
    ```
        var p = [];
        var A = new Function();
        A.prototype = p;
        var a = new A;
        a.push(1);
        console.log(a.length);
        console.log(p.length);
    ```

## å¯¹è±¡çš„ä¸‰ç§ç±»å‹ä»‹ç»:

* å†…ç½®å¯¹è±¡ï¼Œï¼ˆStringã€Numberã€Booleanã€Objectã€Functionã€Arrayï¼‰
* å®¿ä¸»å¯¹è±¡ï¼Œç”±Javascriptè§£é‡Šå™¨æ‰€åµŒå…¥çš„å®¿ä¸»ç¯å¢ƒå®šä¹‰çš„ï¼Œè¡¨ç¤ºç½‘é¡µç»“æ„çš„HTMLElementå¯¹è±¡å‡æ˜¯å®¿ä¸»å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å½“æˆå†…ç½®å¯¹è±¡
* è‡ªå®šä¹‰å¯¹è±¡

## åˆ›å»ºå¯¹è±¡çš„å››ç§æ–¹æ³•:

* å¯¹è±¡å­—é¢é‡ ``` var obj = { a: 1 } ```
* ä½¿ç”¨newå…³é”®å­—æ„é€ å½¢å¼åˆ›å»º ``` var obj = new Object({ a: 1}) ```
* åŸå‹ï¼ˆprototypeï¼‰åˆ›å»º
* ES5çš„Object.create() æ–¹æ³•åˆ›å»º

## å¯¹è±¡å­—é¢é‡åˆ›å»º

#### å¯¹è±¡å­—é¢é‡æ˜¯ç”±è‹¥å¹²ä¸ªé”®ï¼å€¼å¯¹ç»„æˆçš„æ˜ å°„è¡¨ï¼Œæ•´ä¸ªæ˜ å°„è¡¨ç”¨{}åŒ…æ‹¬èµ·æ¥

```js
var obj = { a: 1 };

console.log(obj.a);
```

#### åœ¨ES6ä¸­å¢åŠ äº†å¯è®¡ç®—å±æ€§å

è¿™åœ¨ä¸€äº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¦‚æœkeyæ˜¯é¢„å…ˆä¸èƒ½å®šä¹‰çš„ï¼Œå¯ä»¥å‘ä¸‹é¢ä¼ å…¥å˜é‡æˆ–è€…å€¼è¿›è¡ŒåŠ¨æ€è®¡ç®—

```js
var variable = 2;
var obj = {
	[1 + variable]: 'æˆ‘æ˜¯ä¸€ä¸ªå¯è®¡ç®—å±æ€§å'
}

console.log(obj); // {3: "æˆ‘æ˜¯ä¸€ä¸ªå¯è®¡ç®—å±æ€§å"}
```

#### å¯¹è±¡çš„å†…å®¹è®¿é—®

å¯¹è±¡å€¼çš„å­˜å…¥æ–¹å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œå­˜å…¥åœ¨å¯¹è±¡å®¹å™¨ä¸­çš„æ˜¯è¿™äº›å±æ€§çš„åç§°ï¼Œå­¦è¿‡Cçš„åŒå­¦å¯ä»¥æƒ³è±¡ä»¥ä¸‹æŒ‡é’ˆçš„å¼•ç”¨ï¼Œåœ¨jsä¸­å¯ä»¥ç†è§£ä¸ºå¯¹è±¡çš„å¼•ç”¨ã€‚å†…å®¹è®¿é—®å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§ç¬¦å·:

* ``` . ``` æŒ‡å±æ€§è®¿é—®
* ``` [] ``` æŒ‡é”®è®¿é—®

æ³¨æ„ï¼šå¯¹è±¡ä¸­å±æ€§åæ°¸è¿œå¿…å°†æ˜¯å­—ç¬¦ä¸²ï¼Œobj[2]çœ‹ä¼¼2æ˜¯æ•´æ•°ï¼Œåœ¨å¯¹è±¡å±æ€§åä¸­æ•°å­—æ˜¯ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„

```js
var obj = {
	'a': 'å±æ€§è®¿é—®',
	2: 'é”®è®¿é—®'
}

console.log(obj.a); // å±æ€§è®¿é—®
console.log(obj[2]); // é”®è®¿é—®
```

## ä½¿ç”¨newå…³é”®å­—æ„é€ å½¢å¼åˆ›å»º

å…ˆä»‹ç»ä¸‹newæ“ä½œç¬¦æ„é€ å¯¹è±¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæ˜ç™½ä¹‹åæœ‰åŠ©äºå¯¹åç»­çš„ç†è§£

#### newæ“ä½œç¬¦æ„é€ å¯¹è±¡è¿‡ç¨‹

* åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡
* æ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œprototypeæ“ä½œï¼ˆprototypeä¹‹åä¼šå†™æ–‡ç« ä¸“é—¨è¿›è¡Œä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥å…ˆå…³æ³¨ä¸‹ï¼‰
* æ–°å¯¹è±¡ä¼šè¢«ç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„this
* å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›æ–°å¯¹è±¡ï¼Œnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ï¼ˆå¯¹äºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå³ä½¿å®ƒå†…éƒ¨æ²¡æœ‰returnï¼Œä¹Ÿä¼šé»˜è®¤è¿”å›return thisï¼‰

çœ‹ä¸€åˆ°æ›¾ç»çš„é¢è¯•é¢˜ï¼Œå¦‚æœåœ¨çœ‹æœ¬ç¯‡æ–‡ç« ä»‹ç»ä¹‹å‰ï¼Œä½ èƒ½å¤Ÿæ­£ç¡®ç†è§£å¹¶è¯»å‡ºä¸‹é¢è¯­å¥ï¼Œé‚£ä¹ˆæ­å–œä½ å¯¹è¿™å—ç†è§£å¾ˆé€å½»

```js
var p = [2, 3];
var A = new Function();
    A.prototype = p;

console.log(A.prototype)

var a = new A;

console.log(a.__proto__)

a.push(1);

console.log(a.length); // 3
console.log(p.length); // 2
```

``` new A ``` æ—¶å‘ç”Ÿäº†ä»€ä¹ˆ?

1. åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡obj

``` var obj = {} ```

2. æ–°å¯¹è±¡æ‰§è¡Œprototypeæ“ä½œï¼Œè®¾ç½®æ–°å¯¹è±¡çš„_proto_å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„A.prototype

``` obj._proto_ = A.prototype ```

3. æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸï¼ˆthisï¼‰èµ‹å€¼ç»™æ–°å¯¹è±¡

``` A.apply(obj) ```

4. è¿”å›è¯¥å¯¹è±¡

ä¸Šé¢ç¤ºä¾‹ä¸­å®ä¾‹aå·²ç»ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œæ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥åœ¨ç”µè„‘ä¸Šæ“ä½œçœ‹ä¸‹ ``` A.prototype ``` å’Œ ``` a.__proto__ ``` çš„å®é™…è¾“å‡ºç»“æœ

#### newæ“ä½œç¬¦åˆ›å»ºæ•°ç»„å¯¹è±¡

æ•°ç»„å±äºå†…ç½®å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å½“ä½œä¸€ä¸ªæ™®é€šçš„é”®/å€¼å¯¹æ¥ä½¿ç”¨ã€‚

```js
var arr = new Array('a', 'b', 'c'); // ç±»ä¼¼äº ['a', 'b', 'c']

console.log(arr[0]); // a
console.log(arr[1]); // b
console.log(arr[2]); // c 
console.log(arr.length); // 3

arr[3] = 'd';
console.log(arr.length); // 4
```

## å¯¹è±¡çš„createæ–¹æ³•åˆ›å»º

Object.create(obj, [options])æ–¹æ³•æ˜¯ECMAScript5ä¸­å®šä¹‰çš„æ–¹æ³•

* ``` obj ``` ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„åŸå‹
* ``` options ``` ç¬¬äºŒä¸ªä¸ºå¯é€‰å‚æ•°ï¼Œç”¨äºæè¿°å¯¹è±¡çš„å±æ€§

#### nullåˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„æ–°å¯¹è±¡

```js 
var obj = Object.create(null)

console.log(obj.prototype); // undefined
```

#### åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡

ä»¥ä¸‹ ``` Object.create(Object.prototype) ``` ç­‰ä»·äº ``` {} ``` æˆ– ``` new Object() ```

```js
var obj = Object.create(Object.prototype)

console.log(obj.prototype); // {constructor: Æ’, __defineGetter__: Æ’, __defineSetter__: Æ’, hasOwnProperty: Æ’, __lookupGetter__: Æ’,Â â€¦}
```

#### åˆ›å»ºåŸå‹å¯¹è±¡

```js
var obj = Object.create({ a: 1, b: 2 })

console.log(obj.b); // 2 
```

## åŸå‹prototypeåˆ›å»º

é™¤äº† ```null``` ä¹‹å¤–çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä»åŸå‹ç»§æ‰¿å±æ€§ï¼Œå…³äºjavascriptçš„åŸå‹ä¹‹åä¼šæœ‰ä¸€ç¯‡æ–‡ç« è¿›è¡Œè®²è§£ï¼Œæœ¬æ¬¡ä¸»è¦è®¨è®ºå¯¹è±¡çš„ä¸€äº›å†…å®¹ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¸åšè¿‡å¤šè®¨è®º

* new Objectæˆ–è€…{}åˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸå‹æ˜¯ Object.prototype
* new Arrayåˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸå‹æ˜¯ Array.prototype
* new Dateåˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸå‹æ˜¯ Date.prototype

## å¯¹è±¡å±æ€§æè¿°ç¬¦

ES5ä¹‹åæ‰æ‹¥æœ‰äº†æè¿°å¯¹è±¡æ£€æµ‹å¯¹è±¡å±æ€§çš„æ–¹æ³•

* å±æ€§æè¿°ç¬¦å«ä¹‰
    * ``` {value: 1, writable: true, enumerable: true, configurable: true} ```
    * ``` value ``` å±æ€§å€¼
    * ``` writable ``` å±æ€§å€¼æ˜¯å¦å¯ä»¥ä¿®æ”¹
    * ``` enumerable ``` æ˜¯å¦å¸Œæœ›æŸäº›å±æ€§å‡ºç°åœ¨æšä¸¾ä¸­
    * ``` configurable ``` å±æ€§æ˜¯å¦å¯ä»¥é…ç½®ï¼Œå¦‚æœæ˜¯å¯é…ç½®ï¼Œå¯ä»¥ç»“åˆ ``` Object.defineProperty() ``` æ–¹æ³•ä½¿ç”¨

* Object.getOwnPropertyDescriptor(obj, prop)
    * è·å–æŒ‡å®šå¯¹è±¡çš„è‡ªèº«å±æ€§æè¿°ç¬¦
    * ``` obj ``` å±æ€§å¯¹è±¡
    * ``` prop ``` å±æ€§åç§°

```js
var obj = { a: 1 }
var propertyDesc = Object.getOwnPropertyDescriptor(obj, 'a');

console.log(propertyDesc); // {value: 1, writable: true, enumerable: true, configurable: true}
```

* Object.defineProperty(obj, prop, descriptor)
    * è¯¥æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡
    * ``` obj ``` å±æ€§å¯¹è±¡
    * ``` prop ``` å±æ€§åç§°

```js
var obj = { a: 1 };

Object.defineProperty(obj, 'a', {
    writable: false, // ä¸å¯å†™
	configurable: false, // è®¾ç½®ä¸ºä¸å¯é…ç½®åå°†æ— æ³•ä½¿ç”¨delete åˆ é™¤
})

obj.a = 2;

console.log(obj.a); // 1

delete obj.a;

console.log(obj.a); // 1 
```

* Object.preventExtensions(obj)
    * ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§
    * ``` obj ``` å±æ€§å¯¹è±¡

```js
var obj = { a: 1 };

Object.preventExtensions(obj)

obj.b = 2;

console.log(obj.b); // undefined
```

## å¯¹è±¡çš„å­˜åœ¨æ€§æ£€æµ‹

åŒºåˆ†å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§æ˜¯å¦å­˜åœ¨

#### æ“ä½œç¬¦inæ£€æŸ¥

inæ“ä½œç¬¦é™¤äº†æ£€æŸ¥å±æ€§æ˜¯å¦åœ¨å¯¹è±¡ä¸­å­˜åœ¨ä¹‹å¤–è¿˜ä¼šæ£€æŸ¥åœ¨åŸå‹æ˜¯å¦å­˜åœ¨

```js
var obj = { a: 1 };

console.log('a' in obj); // true
```

#### hasOwnProperty

```js
var obj = { a: 1 };

console.log(obj.hasOwnProperty('a')); // true
```


## å¯¹è±¡å¼•ç”¨ä¼ é€’

> å¯¹è±¡å±äºå¼•ç”¨ç±»å‹æ˜¯å±æ€§å’Œæ–¹æ³•çš„é›†åˆã€‚å¼•ç”¨ç±»å‹å¯ä»¥æ‹¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå±æ€§ä¹Ÿå¯ä»¥æ˜¯åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚

> javascriptä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¸èƒ½ç›´æ¥æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚å®é™…ä¸Šæ“ä½œçš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚å‡†ç¡®è¯´å¼•ç”¨ç±»å‹çš„å­˜å‚¨éœ€è¦å†…å­˜çš„æ ˆåŒºå’Œå †åŒº(å †å†…å­˜)å…±åŒå®Œæˆï¼Œæ ˆåŒºå†…ä¿å­˜å˜é‡æ ‡è¯†ç¬¦å’ŒæŒ‡å‘å †å†…å­˜ä¸­è¯¥å¯¹è±¡çš„æŒ‡é’ˆ(ä¹Ÿå¯ä»¥è¯´è¯¥å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„åœ°å€)ã€‚

#### å¼•ç”¨ç±»å‹ç¤ºä¾‹åˆ†æ

1. å¼•ç”¨ç±»å‹æ¯”è¾ƒ

å¼•ç”¨ç±»å‹æ˜¯æŒ‰ç…§å¼•ç”¨è®¿é—®çš„ï¼Œå› æ­¤å¯¹è±¡(å¼•ç”¨ç±»å‹)æ¯”è¾ƒçš„æ˜¯å †å†…å­˜ä¸­çš„åœ°å€æ˜¯å¦ä¸€è‡´ï¼Œå¾ˆæ˜æ˜¾aå’Œbåœ¨å†…å­˜ä¸­çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ã€‚

```javascript
const a = {};
const b = {};

a == b //false

```

2. å¼•ç”¨ç±»å‹æ¯”è¾ƒ

ä¸‹é¢å¯¹è±¡dæ˜¯å¯¹è±¡cçš„å¼•ç”¨ï¼Œè¿™ä¸ªå€¼dçš„å‰¯æœ¬å®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å †å†…å­˜ä¸­çš„ä¸€ä¸ªå¯¹ã€‚å› æ­¤èµ‹å€¼æ“ä½œåä¸¤ä¸ªå˜é‡æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡åœ°å€ï¼Œåªè¦æ”¹å˜åŒä¸€ä¸ªå¯¹è±¡çš„å€¼å¦å¤–ä¸€ä¸ªä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ã€‚

```javascript
const c = {};
const d = c;

c == d //true

c.name = 'zhangsan';
d.age = 24;

console.log(c); //{name: "zhangsan", age: 24}
console.log(d); //{name: "zhangsan", age: 24}
```

#### å¯¹è±¡copyå®ç°

-  åˆ©ç”¨jsonå®ç°

å¯ä»¥åˆ©ç”¨JSONï¼Œå°†å¯¹è±¡å…ˆåºåˆ—åŒ–ä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œåœ¨ç”¨JSON.parse()ååºåˆ—åŒ–ï¼Œå¯èƒ½ä¸æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•ï¼Œä½†èƒ½é€‚ç”¨äºéƒ¨åˆ†åœºæ™¯

```js
const a = {
    name: 'zhangsan',
    school: {
        university: 'shanghai',
    }
};

const b = JSON.parse(JSON.stringify(a));

b.school.university = 'beijing';

console.log(a.school.university); // shanghai
console.log(b.school.university); // beijing
```
- es6å†…ç½®æ–¹æ³•

ES6å†…ç½®çš„ ``` Object.assign(target,source1,source2, ...) ``` ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å‚æ•°ï¼Œåé¢æ˜¯éœ€è¦åˆå¹¶çš„æºå¯¹è±¡å¯ä»¥æœ‰å¤šä¸ªï¼Œååˆå¹¶çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä¼šè¦†ç›–ä¹‹å‰çš„åŒåå±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œéœ€è¦æ³¨æ„ ``` Object.assign() ``` è¿›è¡Œçš„æ‹·è´æ˜¯æµ…æ‹·è´

```js
const obj1 = {a: {b: 1}};
const obj2 = Object.assign({}, obj1);
 
obj2.a.b = 3;
obj2.aa = 'aa';

console.log(obj1.a.b) // 3
console.log(obj2.a.b) // 3

console.log(obj1.aa) // undefined
console.log(obj2.aa) // aa
```

- å®ç°ä¸€ä¸ªæ•°ç»„å¯¹è±¡æ·±åº¦æ‹·è´

> å¯¹äºä¸‹é¢è¿™æ ·ä¸€ä¸ªå¤æ‚çš„æ•°ç»„å¯¹è±¡ï¼Œè¦åšåˆ°æ·±åº¦æ‹·è´(é‡‡ç”¨é€’å½’çš„æ–¹å¼)ï¼Œåœ¨æ¯æ¬¡éå†ä¹‹å‰åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œä»è€Œå¼€è¾Ÿä¸€ä¸ªæ–°çš„å­˜å‚¨åœ°å€ï¼Œè¿™æ ·å°±åˆ‡æ–­äº†å¼•ç”¨å¯¹è±¡çš„æŒ‡é’ˆè”ç³»ã€‚

```js
/**
 * [copy æ·±åº¦copyå‡½æ•°]
 * @param { Object } elments [éœ€è¦èµ‹å€¼çš„ç›®æ ‡å¯¹è±¡]]
 */
function copy(elments){
    //æ ¹æ®ä¼ å…¥çš„å…ƒç´ åˆ¤æ–­æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡
    let newElments = elments instanceof Array ? [] : {};

    for(let key in elments){
        //æ³¨æ„æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ç±»å‹ï¼Œå¦‚æœéå†çš„å…ƒç´ æ˜¯å¯¹è±¡ï¼Œè¿›è¡Œæ·±åº¦æ‹·è´
        newElments[key] = typeof elments[key] === 'object' ? copy(elments[key]) : elments[key];
    }

    return newElments;
}
```

éœ€è¦èµ‹å€¼çš„ç›®æ ‡å¯¹è±¡

```js
const a = {
    name: 'zhangsan',
    school: {
        university: 'shanghai',
    },
    hobby: ['ç¯®çƒ', 'è¶³çƒ'],
    classmates: [
        {
            name: 'lisi',
            age: 22,
        },
        {
            name: 'wangwu',
            age: 21,
        }
    ]
};
```

æµ‹è¯•éªŒè¯ï¼Œå¤åˆ¶å‡ºæ¥çš„å¯¹è±¡bå®Œå…¨æ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä¿®æ”¹bçš„å€¼ï¼Œä¸ä¼šåœ¨å¯¹aè¿›è¡Œå½±å“ã€‚

```js
const b = copy(a);

b.age = 24;
b.school.highSchool = 'jiangsu';
b.hobby.push('ğŸƒ');
b.classmates[0].age = 25;

console.log(JSON.stringify(a)); 
//{"name":"zhangsan","school":{"university":"shanghai"},"hobby":["ç¯®çƒ","è¶³çƒ"],"classmates":[{"name":"lisi","age":22},{"name":"wangwu","age":21}]}
console.log(JSON.stringify(b));

//{"name":"zhangsan","school":{"university":"shanghai","highSchool":"jiangsu"},"hobby":["ç¯®çƒ","è¶³çƒ","ğŸƒ"],"classmates":[{"name":"lisi","age":25},{"name":"wangwu","age":21}],"age":24}
```


æœ¬æ¬¡é‡ç‚¹æ˜¯å¯¹è±¡çš„ä¸€äº›æ€»ç»“å’Œæ¢è®¨ï¼Œå…³äºåŸå‹prototypeè¿˜æœ‰å¾ˆå¤šå†…å®¹è¦è®²ï¼Œæ–‡ç« ä¸­æœ‰çš„åœ°æ–¹æœ‰æåˆ°ï¼Œä½†æ²¡æœ‰åšè¿‡å¤šçš„é˜è¿°ï¼Œä¹‹åä¼šå†™ä¸€ç¯‡æ–‡ç« ä¸“é—¨è¿›è¡ŒJavascriptåŸå‹çš„è®¨è®ºï¼Œæ¬¢è¿å…³æ³¨ï¼